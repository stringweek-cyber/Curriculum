<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2022 개정 교육과정 과학과 성취기준/평가기준 탐색기</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 기본 스타일 및 스크롤바 */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #e0f2fe 0%, #f0f9ff 50%, #e8f4fc 100%);
            min-height: 100vh;
        }
        .custom-scrollbar::-webkit-scrollbar { width: 8px; height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background-color: #f1f5f9; }
        
        /* 레이아웃 박스 스타일 */
        .rounded-box { border-radius: 1.5rem; box-shadow: 0 10px 25px -5px rgba(0,0,0,0.08), 0 4px 10px -2px rgba(0,0,0,0.04); }
        .rounded-t-box { border-top-left-radius: 1.5rem; border-top-right-radius: 1.5rem; }

        /* 트리 메뉴 공통 스타일 */
        .tree-group-item {
            cursor: pointer; padding: 10px 0; transition: all 0.2s ease;
            user-select: none; color: #334155; font-weight: 700;
            display: flex; align-items: center;
        }
        .tree-group-item:hover { color: #3b82f6; }
        
        /* 토글 아이콘 스타일 */
        .toggle-icon {
            display: inline-block; width: 1.2em; text-align: center;
            transition: transform 0.3s; font-family: monospace;
            color: #94a3b8; font-size: 1.1em; margin-right: 4px;
        }
        .open-icon { transform: rotate(90deg); }

        /* 서브 그룹 컨테이너 (토글 애니메이션) */
        .sub-group-container { 
            padding-left: 20px; 
            border-left: 2px solid #e2e8f0; 
            margin-left: 10px; 
            overflow: hidden; 
            transition: max-height 0.3s ease-out; 
            max-height: 0;
        }
        .sub-group-container.open { max-height: 2000px; } 
        
        /* 서브 그룹 아이템 (단원명) */
        .sub-group-item {
            cursor: pointer; padding: 6px 0; padding-left: 12px;
            font-size: 0.875rem; /* text-sm */
            color: #475569; /* slate-600 */
            transition: all 0.2s ease;
            user-select: none;
            border-radius: 0.5rem;
            margin-top: 2px;
        }
        .sub-group-item:hover { color: #3b82f6; background-color: #f0f9ff; } 
        .sub-group-item.active-item { 
            background-color: #dbeafe; /* blue-100 */
            color: #1d4ed8; /* blue-700 */
            font-weight: 600;
        }
        
        /* --- NEW: Image-matching Box Design --- */
        .content-card {
            background-color: white;
            border-radius: 1rem; /* 16px */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05); /* Soft shadow */
            padding: 1.5rem; /* 24px */
            margin-bottom: 1.5rem; /* 24px */
            border: 1px solid #e5e7eb; /* Light grey border */
            overflow: hidden;
        }

        .content-header-with-bar {
            position: relative;
            padding-left: 1.25rem; /* 20px for the bar and padding */
            margin-bottom: 1rem; /* 16px */
            font-size: 1.25rem; /* text-xl */
            font-weight: 700; /* font-bold */
            color: #1a202c; /* dark text */
            line-height: 1.3;
        }

        .content-header-with-bar::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 0.25rem; /* 4px */
            height: 1.5rem; /* 24px */
            background-color: #3b82f6; /* Blue bar */
            border-radius: 0.125rem; /* 2px - slightly rounded ends */
        }
        
        /* 1. 성취기준 목록 (파란색 • 스타일) */
        .content-list-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 0.5rem; /* 8px */
            line-height: 1.6;
            color: #000000; /* Black text */
        }

        .content-list-item::before {
            content: '•';
            color: #3b82f6; /* Blue bullet */
            font-weight: bold;
            margin-right: 0.5rem; /* 8px */
            flex-shrink: 0;
            font-size: 1rem; /* Match text size */
            line-height: inherit;
        }

        /* 2. 탐구 활동 구분선 및 제목 */
        .activity-separator {
            border-top: 1px solid #e0e0e0; 
            margin-top: 1.5rem; 
            margin-bottom: 1.5rem; 
        }

        .activity-header {
            font-size: 1.25rem; 
            font-weight: 700; 
            color: #1a202c; 
            margin-bottom: 1rem; 
        }

        /* 3. 탐구 활동 목록 (검은색 • 스타일) */
        .activity-list-item-black-bullet {
            display: flex;
            align-items: flex-start;
            margin-bottom: 0.5rem;
            line-height: 1.6;
            color: #000000; /* Black text */
        }

        .activity-list-item-black-bullet::before {
            content: '•';
            color: #000000; /* Black bullet */
            font-weight: bold;
            margin-right: 0.5rem;
            flex-shrink: 0;
            font-size: 1rem;
            line-height: inherit;
        }
        
        /* 4. 성취기준 해설/고려사항 내부 텍스트 스타일 */
        .explanation-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 0.5rem;
            line-height: 1.6;
            color: #000000; /* Black text */
        }
        .explanation-item .bullet {
            color: #3b82f6; /* Blue bullet */
            font-weight: bold;
            margin-right: 0.5rem;
            flex-shrink: 0;
            font-size: 1rem;
            line-height: inherit;
        }
        .explanation-item .code {
            font-weight: bold;
            margin-right: 0.5rem;
            flex-shrink: 0;
            color: #000000; /* Black text for code prefix */
        }
        
        /* --- End Image-matching Box Design --- */


        /* 추가 참고 자료 링크 스타일 */
        .reference-link-item {
            padding: 6px 0; 
            padding-left: 12px;
            font-size: 0.875rem;
            color: #1d4ed8; 
            user-select: none;
            border-radius: 0.5rem;
            margin-top: 2px;
            display: flex;
            align-items: center;
            cursor: pointer;
            text-decoration: none; 
            font-weight: 700; 
        }
        .reference-link-item:hover {
            color: #3b82f6;
            background-color: transparent; 
            text-decoration: underline; 
        }

        /* Edunet Link specific styling (color change, but still bold) */
        .edunet-link {
            color: #1d4ed8; 
            font-weight: 700; 
            text-decoration: none;
        }
        .edunet-link:hover {
            color: #3b82f6;
            text-decoration: underline;
        }
        
        .reference-link-wrapper {
             display: flex;
             align-items: center;
             justify-content: space-between;
             padding-right: 12px;
        }
        
        .download-button {
            text-decoration: none;
            cursor: pointer;
            text-align: center;
            font-size: 0.75rem; 
            color: #1f2937; 
            font-weight: 600; 
            border: 1px solid #d1d5db; 
            padding: 4px 8px; 
            border-radius: 9999px; 
            background-color: #f3f4f6; 
            transition: all 0.2s ease;
            flex-shrink: 0;
            white-space: nowrap;
        }
        .download-button:hover {
            color: #1d4ed8; 
            background-color: #e5e7eb; 
        }
        
        /* 단원 제목 및 버튼 컨테이너 스타일 */
        .unit-header-wrapper {
            display: flex;
            justify-content: space-between; 
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

     /* Unit Action Buttons Style (라운드 버튼 디자인) */
.unit-actions-button {
    @apply px-4 py-2 text-sm font-extrabold rounded-full border-2 shadow-md transition-all duration-200;
    background-color: #3b82f6; /* Blue background */
    border-color: #2563eb; /* Darker blue border */
    color: #ffffff; /* White text */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 120px; /* 이 부분이 현재 크기를 제한합니다. */
}        .unit-actions-button:hover {
            @apply bg-blue-700 border-blue-800 shadow-lg transform scale-105; 
            color: #ffffff;
        }
        
        /* Header Title Styles */
        .header-main-title {
            color: #1a202c; 
        }
        .header-sub-title {
            color: #1d4ed8; 
        }
        .header-badge {
            background-color: #ed0d0f; /* Bright Red */
            color: #ffffff;
            padding: 4px 10px;
            border-radius: 12px;
            font-weight: 800;
            font-size: 1.5rem;
            margin-left: 10px;
            display: inline-block;
            line-height: 1.2; 
        }


        /* Modal Styles */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex; justify-content: center; align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background: white; border-radius: 1rem; padding: 1.5rem;
            max-width: 90%; max-height: 90%; width: 600px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: flex; flex-direction: column;
        }
        .modal-body {
            overflow-y: auto;
            flex-grow: 1;
            padding-top: 1rem;
        }
        .modal-close-button {
            @apply mt-4 px-4 py-2 bg-slate-200 text-slate-700 font-semibold rounded-lg hover:bg-slate-300;
        }

    </style>
</head>
<body class="p-4 sm:p-6">
    <!-- Modal Container --><div id="pdf-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="flex justify-between items-center border-b pb-2">
                <h3 id="modal-title" class="text-xl font-bold text-slate-700">성취수준 보기</h3>
                <button onclick="closeModal()" class="text-slate-500 hover:text-slate-700 text-2xl font-bold">&times;</button>
            </div>
            <div id="modal-body" class="modal-body text-center">
                <!-- PDF link will be injected here --></div>
            <button onclick="closeModal()" class="modal-close-button">성취기준 내용으로 돌아가기</button>
        </div>
    </div>

    <!-- Header Section --><header class="mb-8 mt-4">
        <h1 class="text-xl sm:text-2xl font-extrabold text-slate-800 text-center flex flex-col sm:flex-row justify-center items-center gap-2">
            <span class="header-main-title">2022 개정 교육과정</span>
            <span class="inline-block px-4 py-1 bg-white border-2 border-blue-400 text-blue-600 rounded-xl shadow-md text-2xl tracking-wide">과학과</span>
            <span class="header-main-title">성취기준/평가기준 탐색기</span>
            <span class="header-badge">중학교</span>
        </h1>
    </header>
    
    <!-- Main Content Area --><main class="flex flex-col lg:flex-row gap-6 max-w-[1400px] mx-auto" style="height: calc(100vh - 140px);">
        
        <!-- Curriculum Tree (Left Pane) --><div id="tree-container" class="lg:w-1/3 w-full bg-white rounded-box flex flex-col shadow-lg ring-1 ring-slate-900/5">
            <div class="p-4 bg-slate-100 border-b border-slate-200 rounded-t-box">
                <h2 class="text-lg font-bold text-slate-700 flex items-center">
                    <span class="mr-2">≡</span>교육과정 구성
                </h2>
            </div>
            <div id="curriculum-tree" class="p-4 custom-scrollbar overflow-y-auto flex-1 space-y-2">
                <!-- Curriculum Tree is generated here by JavaScript --></div>
        </div>
        
        <!-- Detail Content (Right Pane) --><div id="detail-container" class="lg:w-2/3 w-full bg-white rounded-box flex flex-col shadow-lg ring-1 ring-slate-900/5">
            <div class="p-4 bg-slate-100 border-b border-slate-200 rounded-t-box">
                <div class="unit-header-wrapper">
                    <div class="text-lg font-bold text-slate-700 flex items-center">
                        <span class="mr-2 text-blue-600">#</span><span id="unit-title">단원을 선택해 주세요</span>
                    </div>
                    <div id="unit-actions" class="flex gap-2 justify-end items-center">
                        <!-- Buttons will be injected here --></div>
                </div>
            </div>
            <div id="unit-content" class="p-6 custom-scrollbar overflow-y-auto flex-1">
                
                <!-- Placeholder Message --><div id="placeholder-message" class="flex flex-col items-center justify-center h-full text-slate-400 space-y-4">
                    <span class="text-5xl opacity-50 mb-4">📚</span>
                    <p class="text-base text-center">
                        왼쪽 목록에서 학년(군) 및 과목을 펼친 후,<br>
                        <span class="font-bold text-slate-500">단원명을 클릭</span>하거나<br>
                        <span class="font-bold text-slate-500">참고 자료</span>를 확인하세요.
                    </p>
                </div>
                
                <!-- Loading Spinner --><div id="loading-spinner" class="hidden flex justify-center items-center h-full">
                    <div class="spinner"></div>
                </div>
                
                <!-- Achievement/Criteria Content --><div id="achieve-content" class="hidden">
                    
                    <!-- Box 1: 성취기준 + 탐구 활동 (8.png) --><div class="content-card">
                        <h3 class="content-header-with-bar">성취기준</h3>
                        <div class="content-body pt-0 pb-0">
                            <ul id="achievement-list">
                                <!-- Content injected via JS --></ul>
                            
                            <div id="activity-section" class="hidden">
                                <div class="activity-separator"></div>
                                <div class="activity-header">탐구 활동</div>
                                <ul id="activity-list" class="pb-4">
                                    <!-- Content injected via JS --></ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Box 2: 성취기준 해설 (9.png) --><div class="content-card">
                        <h3 class="content-header-with-bar">성취기준 해설</h3>
                        <div class="content-body" id="explanation-text">
                             <!-- Content injected via JS --></div>
                    </div>
                    
                    <!-- Box 3: 적용 시 고려 사항 (10.png) --><div class="content-card">
                        <h3 class="content-header-with-bar">적용 시 고려 사항</h3>
                        <div class="content-body" id="consideration-text">
                             <!-- Content injected via JS --></div>
                    </div>
                    
                </div>
            </div>
        </div>
    </main>
<script>
// Curriculum Data (Middle School) 

const curriculumUnits = {
    "1학년": {
        "과학과 인류의 지속가능한 삶": {
            group: "중학교", domain: "과학과 인류의 지속가능한 삶",
            achievements: ["[9과01-01] 과학적 탐구 방법을 이해하고, 일상생활의 문제에 대한 과학적 해결 방안을 제안할 수 있다。", "[9과01-02] 과학의 발전이 인류 문명에 미친 영향을 이해하고, 인공지능 등 첨단 과학기술이 가져올 미래 사회의 변화를 조사하여 발표할 수 있다。", "[9과01-03] 인류의 지속가능한 삶을 위한 과학기술의 중요성과 역할에 대해 토의하고, 개인과 사회 차원의 활동 방안을 찾아 실천할 수 있다。"],
            activities: ["주변에서 탐구할 문제를 발견하고 탐구 계획서 작성하기"],
            explanation: `• [9과01-01] 간단한 탐구 실험을 제시하여 탐구 절차 및 방법을 익히도록 하며, 학생이 스스로 발견한 문제를 일정 기간 동안 지속적으로 탐구하여 해결해 보는 기회를 제공할 수 있다.
• [9과01-02] 과학적 탐구 방법을 통해 얻은 과학 지식과 방법이 인류 문명과 문화 발달에 미친 영향을 중심으로 학습하고, 원리보다는 활용 측면에서 첨단 과학기술 사례를 함께 다룬다.`,
            consideration: `• 초등학교 3~4학년군 '기후변화와 우리 생활', 5~6학년군 '자원과 에너지'와 연계된다.
• 인류 문명 발달 과정에서 과학적 원리 발견, 기술 발달, 기기 발명에 관한 자료를 수집하고 토의하도록 지도할 수 있다. 과학 개념과 원리가 기술, 공학, 예술, 수학 등 과학 외의 교과와 관련 있음을 사례를 통해 이해하도록 한다.
• 조사와 토의·토론 등의 교수·학습 방법을 활용하여 첨단 과학기술 사례를 찾고, 이 과정에서 과학이 사회에 미치는 영향을 알게 한다. 조사한 자료를 바탕으로 미래 생활의 모습을 예측하도록 하고, 이를 글이나 그림으로 표현하도록 하여 관련 내용을 평가할 수 있다.
• 인류가 직면한 에너지나 환경 문제와 같은 과학 관련 쟁점을 알고 이에 대한 자신의 의견을 과학적으로 제시하게 한다.`,
            pdfPages: { achievement: 23, domain: 55 } 
        },
        "생물의 구성과 다양성": {
            group: "중학교", domain: "생물의 구성과 다양성",
            achievements: ["[9과02-01] 세포는 생명 활동이 일어나는 기본 단위임을 이해하고, 세포의 구조와 기능의 관계를 추론할 수 있다。", "[9과02-02] 생물의 유기적 구성 단계를 이해하고, 동물과 식물을 비교하여 분석할 수 있다。", "[9과02-03] 생물다양성을 이해하고, 변이와 생물다양성의 관계를 추론할 수 있다。", "[9과02-04] 종의 개념과 분류 체계를 이해하고, 생물을 계 수준에서 분류할 수 있다。", "[9과02-05] 생물다양성 보전의 필요성을 이해하고, 생물다양성 유지를 위한 방안을 조사하고 실천할 수 있다。"],
            activities: ["세포 관찰하기", "생물다양성 보전 놀이 활동하기"],
            explanation: `• [9과02-01] 세포의 구조는 세포벽, 세포막, 핵, 엽록체, 미토콘드리아를, 세포의 특징으로는 생명 활동을 유추할 수 있는 세포(적혈구, 신경세포, 상피세포 등)를 다룬다.
• [9과02-04] 종은 생물학적 종 개념만을, 생물 분류 체계는 5계만을 다루도록 한다.`,
            consideration: `• 초등학교 3~4학년군 '다양한 생물과 우리 생활', '생물과 환경', 고등학교 '통합과학1'의 시스템과 상호작용, '통합과학2'의 변화와 다양성과 연계된다.
• 생물다양성 이해를 위해 우리 학교(마을)의 생물을 관찰하여, 우리 학교(마을) 생태 지도 만들기 및 생물 분류 활동을 할 수 있다.
• 생물다양성 보전 놀이 활동을 통해 생물다양성 보전의 필요성을 이해하도록 하고, 개인적, 사회적 차원에서 이루어질 수 있는 생물다양성 유지 방안을 조사하고 이를 실천하며, 이 과정에서 지속가능성을 고려한 생태전환교육이 이루어질 수 있도록 한다.`,
            pdfPages: { achievement: 24, domain: 57 }
        },
        "열": {
            group: "중학교", domain: "열",
            achievements: ["[9과03-01] 온도와 열평형 과정을 물질을 구성하는 입자들의 배치나 움직임 등으로 설명할 수 있다。", "[9과03-02] 열은 전도, 대류, 복사로 전달됨을 알고, 열전달 과정을 모형 등을 사용하여 다양하게 표현할 수 있다。", "[9과03-03] 물질에 따라 비열과 열팽창 정도가 다름을 알고, 이러한 성질이 일상생활에서 유용하게 활용됨을 인식할 수 있다。"],
            activities: ["열화상 카메라를 이용하여 물체에서 열의 전도 비교하기", "온도 센서를 이용하여 여러 가지 액체의 비열 비교하기"],
            explanation: `• [9과03-01] 온도가 다른 두 물체가 열평형에 도달하는 과정을 시간 온도 그래프 등을 활용하여 설명할 수 있도록 한다.
• [9과03-02] 열의 이동 방식을 주변 도구나 신체를 이용하여 비유적으로 다양하게 표현하고, 그 차이를 설명할 수 있도록 한다.`,
            consideration: `• 초등학교 5~6학년군 '열과 우리 생활', 고등학교 '역학과 에너지'의 열과 에너지와 연계된다.
• 온도를 측정하거나 열의 전도를 관찰하는 활동에서 온도 센서 등 디지털 탐구 도구를 활용하도록 한다.
• 비열과 열팽창 실험에서 가열 장치로 실험할 때 화상이나 화재 등 안전사고에 유의하도록 안전 교육을 실시하고, 안전장치나 안전 장구가 갖추어진 상태에서 실시하도록 한다.`,
            pdfPages: { achievement: 26, domain: 59 }
        },
        "물질의 상태 변화": {
            group: "중학교", domain: "물질의 상태 변화",
            achievements: ["[9과04-01] 확산 및 증발 현상을 관찰하여 물질을 구성하는 입자가 운동하고 있음을 추론할 수 있다。", "[9과04-02] 물질의 세 가지 상태의 특징을 설명하고, 이를 입자 모형으로 표현할 수 있다。", "[9과04-03] 여러 가지 물질의 상태 변화를 관찰하고, 이를 입자 모형으로 설명할 수 있다。", "[9과04-04] 물질의 상태 변화와 열에너지 출입 관계를 이해하고, 이를 실생활에 적용하여 과학의 유용성을 인식할 수 있다。"],
            activities: ["확산 현상 관찰하기", "물질의 상태 변화 시 질량과 부피 변화 측정하기", "상태 변화 실험에서 가열 곡선 또는 냉각 곡선 그리기"],
            explanation: `• [9과04-02] 물질의 상태를 나타내는 입자 모형은 입자 사이의 상대적 거리, 입자 배열의 불규칙한 정도, 입자의 운동성 등을 비교한 내용을 포함한다.
• [9과04-03] 여러 가지 물질의 상태 변화를 관찰하여 융해, 응고, 기화, 액화, 승화를 구분하고, 물질의 상태가 변할 때 부피는 변하고 질량과 물질의 성질은 변하지 않는 이유를 입자 모형으로 설명한다.
• [9과04-04] 물질의 상태 변화 시 온도가 일정한 이유를 상태 변화 과정에서 출입하는 열에너지와 관련지어 설명한다.`,
            consideration: `• 초등학교 3~4학년군 '물의 상태 변화', 고등학교 '물질과 에너지'의 물질의 세 가지 상태와 연계된다.
• 질량은 물질이 가지고 있는 고유한 양임을 설명한다. 질량은 무게를 측정하여 확인하고, 기체의 질량을 저울로 측정할 때는 부력이 측정값에 영향을 줄 수 있음을 유의한다.
• 상태 변화 시 열에너지의 출입으로 입자의 배열과 운동이 달라지는 실험 결과를 입자 모형을 사용하여 설명하도록 한다.
• 녹는점, 끓는점, 어는점의 정확한 개념은 중학교 1~3학년군 '물질의 특성'에서 학습하므로 각 상태 변화가 일어나는 온도라는 측면에 주안점을 둔다.`,
            pdfPages: { achievement: 27, domain: 61 }
        },
        "힘의 작용": {
            group: "중학교", domain: "힘의 작용",
            achievements: ["[9과05-01] 물체에 작용하는 힘을, 화살표를 이용하여 나타내고, 힘의 평형을 이루는 조건을 설명할 수 있다。", "[9과05-02] 중력, 탄성력, 마찰력, 부력을 이해하고, 각 힘의 특징을 크기와 방향으로 설명할 수 있다。", "[9과05-03] 알짜힘이 0이 아닐 때 물체의 운동 상태가 변함을 알고, 그 예를 조사하여 분류할 수 있다。", "[9과05-04] 다양한 사례에서 작용하는 힘과 힘의 평형 관계를 설명하고, 일상생활에서 힘의 특징을 이용한 기구나 장치를 설계할 수 있다。"],
            activities: ["용수철의 탄성력 측정하기", "물속에서 부력 측정하기", "장난감이나 놀이 기구에서 힘의 작용 탐구하기"],
            explanation: `• [9과05-01] 힘의 정의를 알고 힘을 크기와 방향으로 나타낼 수 있도록 하며, 나란한 힘의 합력만을 다루도록 한다.
• [9과05-02] 중력을 지도할 때, 질량과 무게를 구별하도록 한다.
• [9과05-03] 물체가 힘을 받았을 때 물체의 운동을 속력이 변하거나 운동 방향이 바뀌거나 두 가지가 모두 변하는 사례로 분류하도록 한다.
• [9과05-04] 바닥에 놓인 물체에 작용하는 힘을 설명할 때, 중력과 함께 바닥이 물체를 떠받치는 힘을 도입한다.`,
            consideration: `• 초등학교 3~4학년군 '힘과 우리 생활', 고등학교 '통합과학1'의 시스템과 상호작용, '물리학'의 힘과 에너지와 연계된다.
• 학생들이 일상적으로 경험하는 힘의 개념을 글, 그림 등 다양한 형태로 표현하도록 하여 과학적인 힘의 개념이 형성되도록 지도한다.
• 힘의 작용에 대한 이해 정도를 평가하기 위해 일상생활에서 물체가 힘을 받았을 때 속력이 변하거나 운동 방향이 바뀌거나 두 가지가 모두 변하는 사례를 조사하고, 포스터 발표, 보고서 작성 등 다양한 형태의 산출물을 제작하도록 할 수.`,
            pdfPages: { achievement: 28, domain: 63 }
        },
        "기체의 성질": {
            group: "중학교", domain: "기체의 성질",
            achievements: ["[9과06-01] 압력의 의미를 알고, 기체의 압력을 입자의 운동으로 설명할 수 있다。", "[9과06-02] 기체의 압력과 부피 관계를 실험 결과로부터 알아내고, 이를 입자 모형으로 해석할 수 있다。", "[9과06-03] 기체의 온도와 부피 관계를 실험 결과로부터 알아내고, 이를 입자 모형으로 해석할 수 있다。"],
            activities: ["기체의 압력과 부피 관계와 기체의 온도와 부피 관계를 실험으로 알아보기"],
            explanation: `• [9과06-01] 압력의 의미는 일상생활에서 경험할 수 있는 예시로 설명하고, 기체의 압력은 일정한 면적에 입자의 충돌로 가해지는 힘의 수준에서 다룬다.
• [9과06-02~03] 기체의 압력과 부피, 기체의 온도와 부피를 측정한 각각의 실험 결과에서 두 변인 간 관계를 찾고 그 이유를 입자 모형으로 설명한다.`,
            consideration: `• 초등학교 3~4학년군 '여러 가지 기체', 고등학교 '물질과 에너지'의 물질의 세 가지 상태와 연계된다.
• 기체의 압력과 부피, 온도와 부피 관계를 확인할 수 있는 생활 속 현상을 찾아 발표하는 활동을 할 수 있다. 또한, 수식을 활용하여 변인 사이의 양적 관계를 계산하는 정량적 내용은 고등학교 '물질과 에너지'에서 다루므로 입자 모형을 이용한 정성적 설명에 주안점을 둡니다.
• 탐구 활동 수행 시, 의사소통과 협업 능력을 키우기 위해 여러 모둠의 데이터를 공유하여 탐구 활동을 수행할 수 있으며, 데이터 공유 시 공유 플랫폼을 활용할 수 있다.
• 데이터를 수집하거나 시각화할 때 다양한 센서와 소프트웨어를 활용하여 디지털 소양을 함양하도록 지도한다.`,
            pdfPages: { achievement: 29, domain: 64 }
        },
        "태양계": {
            group: "중학교", domain: "태양계",
            achievements: ["[9과07-01] 태양계를 구성하는 천체의 특징을 알고, 행성을 목성형 행성과 지구형 행성으로 구분할 수 있다。", "[9과07-02] 태양의 표면과 대기에서 일어나는 현상을 알고, 태양의 활동이 지구에 미치는 영향을 추론할 수 있다。", "[9과07-03] 지구 자전에 의한 천체의 겉보기 운동과 지구 공전에 의한 별자리 변화를 이해하고, 밤하늘 천체에 호기심을 가진다。", "[9과07-04] 달을 관측하여 달의 위상변화 원리를 이해하고, 일식과 월식을 설명할 수 있다。"],
            activities: ["망원경을 이용하여 달, 행성 관측하기", "태양계 천체 자료 수집 및 분석하기", "모형을 이용하여 달의 위상변화 관찰하기"],
            explanation: `• [9과07-01] 태양계를 구성하는 천체인 태양, 행성, 왜소행성, 소행성, 위성, 혜성을 개괄적으로 학습하며, 자세한 특징은 다루지 않는다.
• [9과07-03] 관측자의 위치(고위도, 저위도, 중위도)에 따른 일주운동은 다루지 않는다. 지구의 자전과 공전을 우주에서 바라보는 관점으로 설명한다.
`,
            consideration: `• 초등학교 3~4학년군 '밤하늘 관찰', 5~6학년군 '지구의 운동', '계절의 변화', 고등학교 '통합과학1'의 물질과 규칙성, '지구과학'의 태양계 천체와 별과 우주의 진화, '행성우주과학'의 우주탐사와 행성계와 연계된다.
• 태양, 달, 행성을 천체 망원경으로 관측할 기회를 제공하도록 한다. 지역 천문대나 과학 교육원 등을 활용할 수 있다.
• 야간에 별이나 행성 등을 관측할 때 안전 사항을 준수하도록 하고, 특히 태양의 흑점, 일식 등을 관찰할 때는 눈으로 직접 보지 않고 필터 등을 사용하도록 지도한다.
• 태양계 학습 시 디지털 탐구 도구, 최신 관측 자료, 천체 관측 프로그램, 앱 등을 적절하게 활용하도록 한다.
• 일식과 월식은 천체 관측 프로그램이나 모형 등으로 수업을 진행할 수 있으며, 작도 중심의 수업 활동은 지양한다.`,
            pdfPages: { achievement: 30, domain: 65 }
        },
    },
    "2학년": {
        "물질의 특성": {
            group: "중학교", domain: "물질의 특성",
            achievements: ["[9과08-01] 물질의 특성의 의미를 알고, 실험을 통해 밀도, 용해도, 녹는점, 끓는점 등을 설명할 수 있다。", "[9과08-02] 물질의 특성을 근거로 우리 주변의 물질을 순물질과 혼합물로 분류할 수 있다。", "[9과08-03] 물질의 특성을 이용하여 혼합물이 분리되는 원리를 이해하고, 이를 이용한 사례를 주변에서 찾을 수 있다。"],
            activities: ["혼합물 분리 실험을 설계하고 수행하기"],
            explanation: `• [9과08-01] 물질의 특성은 특정한 조건에서 항상 일정한 값을 가지며 물질의 양에 따라 달라지지 않는 것으로 물질을 구분하는 중요한 정보가 됨을 이해하고, 그 사례로 밀도, 용해도, 녹는점, 끓는점 등이 있음을 다룬다.`,
            consideration: `• 초등학교 3~4학년군 '물체와 물질'과 중학교 1~3학년군 '화학 반응의 규칙성'과 연계된다.
• 순물질과 혼합물을 분류하는 활동 시, 순물질과 혼합물을 구별하는 기준에 대해 토의하고, 이 기준에 따라 여러 가지 물질을 순물질과 혼합물로 구별하는 활동을 할 수 있다.
• 탐구 활동 수행 시 여러 모둠의 실험 데이터를 공유하여 탐구할 수 있다.
• 혼합물의 분리 실험을 설계할 때 혼합물을 구성하는 순물질의 종류와 각 순물질의 특성에 관해 조사한 자료를 근거로 효과적인 분리 방법에 관해 논의하여 실험 계획을 공유할 수 있도록 한다.
• 혼합물의 분리 방법과 원리를 이해하는 수준에서 다루며, 혼합물의 분리 결과를 확인하는 활동을 할 수 있다.`,
            pdfPages: { achievement: 31, domain: 67 }
        },
        "지권의 변화": {
            group: "중학교", domain: "지권의 변화",
            achievements: ["[9과09-01] 지구계의 구성 요소를 알고, 지권의 층상 구조와 그 특징을 조사·발표할 수 있다。", "[9과09-02] 조암 광물의 주요 특성을 관찰하고, 암석과 광물의 활용 방안 및 자원으로서 가치에 대해 조사할 수 있다。", "[9과09-03] 지각을 이루는 암석을 생성 과정에 따라 분류하고, 암석의 순환 과정을 설명할 수 있다。", "[9과09-04] 풍화 과정을 이해하고, 토양 생성 과정을 풍화 작용의 예로 설명할 수 있다。", "[9과09-05] 대륙이동설을 이해하고, 지진과 화산이 발생하는 지역의 분포를 판의 경계와 관련지어 설명할 수 있다。"],
            activities: ["광물 특성 관찰하기", "암석을 관찰하여 분류하기", "빅데이터를 활용하여 화산대 및 지진대와 판의 경계와의 관련성 탐구하기"],
            explanation: `• [9과09-01] 지구계의 구성 요소 및 지권을 구성하는 각 층의 명칭과 상태만 다루며, 지구 내부구조 탐사에서 지진파의 특성은 다루지 않는다.
• [9과09-02] 광물의 특성은 색, 조흔색, 굳기, 염산 반응, 자성만 다루고, 굳기는 방해석과 석영 정도만 비교하여 제시한다.
• [9과09-03] 지각에 분포하는 다양한 암석 중, 화성암은 현무암, 유문암, 화강암, 반려암을, 퇴적암은 이암, 사암, 역암, 석회암을, 변성암은 편암, 편마암, 대리암, 규암만을 대표적으로 다룬다.
• [9과09-05] 화산대와 지진대의 분포가 판의 경계와 일치한다는 정도만 다루고, 판의 경계에서 나타나는 다양한 지질학적 특성은 고등학교 '지구과학'에서 다룬다.`,
            consideration: `• 초등학교 3~4학년군 '땅의 변화', 고등학교 '통합과학1'의 물질과 규칙성, '통합과학2'의 환경과 에너지, '지구과학'의 지구의 역사와 한반도의 암석, '지구시스템과학'의 지구 탄생과 생동하는 지구와 연계된다.
• 표준 샘플을 이용한 광물과 암석 관찰을 통해 이들의 대표적인 특징을 알게 한 후, 학교 주변이나 국가지질공원을 구성하는 광물과 암석을 수업의 소재로 활용할 수 있다.
• 광물과 암석이 다양하게 활용되는 예를 조사하고, 이를 통해 광물과 암석이 유한한 자원임을 인식시켜 그 가치에 대해 토의해볼 수 있다.
• 빅데이터 및 증강 현실을 활용하여 지진대와 화산대의 분포를 판의 경계와 관련지어 추론할 수 있으며, 최근 발생한 지진과 화산에 대해 조사·발표하도록 지도할 수.`,
            pdfPages: { achievement: 32, domain: 68 }
        },
        "빛과 파동": {
            group: "중학교", domain: "빛과 파동",
            achievements: ["[9과10-01] 빛의 반사와 굴절의 원리를 이해하고, 물체를 보는 과정을 빛의 경로를 이용하여 표현할 수 있다。", "[9과10-02] 평면거울에서 상이 생기는 원리를 설명하고, 일상생활에서 사용되는 거울과 렌즈의 종류를 분류하고 상의 특징을 비교할 수 있다。", "[9과10-03] 물체의 색을 빛의 반사와 관련지어 설명하고, 영상 장치에서 빛의 합성을 이용하여 다양한 색이 표현되는 원리를 이해할 수 있다。", "[9과10-04] 파동의 발생과 전달 과정을 이해하고, 소리의 특성을 진폭, 진동수, 파형 등의 과학적 용어로 표현할 수 있다。"],
            activities: ["거울과 렌즈에 의한 상의 특징 관찰하기", "디지털 탐구 도구를 이용하여 소리의 진폭, 진동수, 파형 탐구하기"],
            explanation: `• [9과10-01] 실험을 통해 빛의 반사, 굴절의 특징을 확인하고, 굴절 법칙은 정량적으로 다루지 않는다.
• [9과10-02] 상이 생기는 원리는 평면거울에 의한 상만을 빛의 반사 법칙을 적용하여 이해하도록 한다. 다양한 거울과 렌즈에 의해 생기는 상의 위치나 크기를 정량적으로 계산하거나 실상과 허상을 구분하는 활동은 하지 않고, 정성적인 특징을 다양한 예를 통해 비교하도록 한다.
• [9과10-04] 소리는 파동의 일종으로 매질을 통해 전달됨을 설명하고, 다양한 소리의 파형을 비교하여 파동의 진폭, 진동수, 파장의 개념을 설명하도록 한다. 종파와 횡파를 구분하여 설명하지는 않는다.`,
            consideration: `• 초등학교 3~4학년군 '소리의 성질', 5~6학년군 '빛의 성질', 고등학교 '물리학'의 빛과 물질과 연계된다.
• 학생들의 이해와 흥미를 위해 빛과 파동의 성질을 이용한 다양한 기구나 악기를 활용할 수 있다.
• 파동을 이용한 에너지와 정보의 전달 사례를 조사하여 동영상, 포스터, 보고서 등 다양한 형태의 산출물을 제작하도록 하고 이를 평가할 수.
• 음악, 미술 등 다른 교과와 주제 통합 수업으로 구성할 수 있다.`,
            pdfPages: { achievement: 34, domain: 70 }
        },
        "물질의 구성": {
            group: "중학교", domain: "물질의 구성",
            achievements: ["[9과11-01] 원소와 화합물의 정의를 알고, 원소와 화합물을 화학식으로 표현할 수 있다。", "[9과11-02] 원소를 구성하는 입자인 원자는 양성자, 중성자, 전자로 구성되며, 양성자의 수에 따라 원소의 종류가 달라짐을 입자 모형을 활용하여 설명할 수 있다。", "[9과11-03] 원소는 양성자의 수에 따라 주기율표에 배치됨을 알고, 주기율표에서 성질이 유사한 원소를 찾을 수 있다。", "[9과11-04] 물질을 이루는 입자는 원자, 분자, 이온 등으로 존재할 수 있음을 알고, 이온은 전하를 띠고 있음을 설명할 수 있다。"],
            activities: ["같은 족 원소들의 유사성 탐구하기", "전기력을 이용한 실험으로 이온의 이동 관찰하기"],
            explanation: `• [9과11-02] 질량수나 동위 원소는 다루지 않는다.
• [9과11-03] 동족 원소의 유사성은 1족 원소의 물과의 반응성, 18족 원소의 안정성 등 비슷한 성질을 지닌 원소들이 있음을 탐구를 통해 추론하고, 각 반응에 관한 구체적 설명이나 원리 및 원소의 주기성은 다루지 않는다.
• [9과11-04] 이온의 경우 원자가 전기적으로 중성임을 토대로 전자를 잃으면 양이온이 되고, 전자를 얻으면 음이온이 된다는 수준에서 다룬다.`,
            consideration: `• 초등학교 5~6학년군 '용해와 용액', 고등학교 '통합과학1'의 물질과 규칙성과 연계된다.
• 생태전환교육과 연계하여 우리 주변의 물질 중 지구 환경에 영향을 미치는 물질을 중심으로 화학식으로 표현하고, 이 물질을 원소 또는 화합물인지 구분하도록 지도할 수 있다.`,
            pdfPages: { achievement: 36, domain: 72 }
        },
        "식물과 에너지": {
            group: "중학교", domain: "식물과 에너지",
            achievements: ["[9과12-01] 광합성 과정을 이해하고, 환경 요인과 광합성의 관계를 탐구하는 실험을 설계할 수 있다。", "[9과12-02] 식물의 호흡과 광합성의 관계를 이해하고, 호흡과 광합성 과정에서 출입하는 에너지와 물질의 변화를 분석할 수 있다。", "[9과12-03] 광합성 산물의 저장과 이용 과정을 이해하고, 모형으로 설명할 수 있다。"],
            activities: ["광합성에 필요한 물질과 산물 확인하는 실험하기"],
            explanation: `• [9과12-03] 광합성 결과 만들어진 산물은 생명 활동에 필요한 에너지원임을 강조하여 다룬다.`,
            consideration: `• 초등학교 3~4학년군 '식물의 생활', 5~6학년군 '식물의 구조와 기능', 고등학교 '생명과학' 생명 시스템의 구성, '세포와 물질대사'의 세포호흡과 광합성과 연계된다.
• 광합성 실험은 디지털 탐구 도구를 이용하여 데이터를 얻고 이를 해석하여 문제를 해결하는 디지털 기반 탐구 활동을 할 수 있다.
• 광합성 산물의 저장, 이용 과정을 모형으로 표현하는 활동에서는 정보 그림 만들기 등을 통해 창의성을 발휘할 수 있도록 지도한다.`,
            pdfPages: { achievement: 37, domain: 74 }
        },
        "동물과 에너지": {
            group: "중학교", domain: "동물과 에너지",
            achievements: ["[9과13-01] 소화계의 구조와 기능을 이해하고, 소화 과정을 소화 효소의 작용과 관련지어 추론할 수 있다。", "[9과13-02] 순환계의 구조와 기능을 이해하고, 혈액의 순환 경로를 종합하여 발표할 수 있다。", "[9과13-03] 호흡계의 구조와 기능을 이해하고, 호흡 운동의 원리를 나타내는 모형을 만들 수 있다。", "[9과13-04] 배설계의 구조와 기능을 이해하고, 노폐물이 배설되는 과정을 모식도로 표현할 수 있다。", "[9과13-05] 동물이 세포호흡을 통해 에너지를 얻는 과정을 소화, 순환, 호흡, 배설과 관련지어 통합적으로 설명할 수 있다。"],
            activities: ["음식물에 들어 있는 영양소 검출하기", "침의 소화 작용 탐구하기"],
            explanation: `• [9과13-01] 소화 기관에서 일어나는 소화 과정은 아밀레이스, 펩신, 트립신, 라이페이스 등 대표적인 몇 가지 소화 효소 중심으로 간단하게 언급한다.
• [9과13-05] 각 기관계의 구조와 기능에 대한 자세한 언급보다는 에너지를 얻기 위한 통합적 관계에 중점을 두고 다룬다.`,
            consideration: `• 초등학교 3~4학년군 '동물의 생활', 5~6학년군 '우리 몸의 구조와 기능', 고등학교 '생명과학'의 생명 시스템의 구성과 연계된다.
• 기관계에 대한 탐구는 증강 현실, 가상 현실 등 실감형 자료를 활용하여 디지털 소양을 함양할 수 있으며, 모식도 작성, 모형 제작, 역할 놀이, 발표 활동 시 모둠원들이 협력적 소통을 통해 수행하도록 지도한다.`,
            pdfPages: { achievement: 38, domain: 75 }
        },
        "전기와 자기": {
            group: "중학교", domain: "전기와 자기",
            achievements: ["[9과14-01] 마찰 전기, 정전기 유도 현상을 관찰하고, 이를 전기력과 원자 모형을 이용하여 설명할 수 있다。", "[9과14-02] 전기 회로에서 전류를 모형으로 설명하고, 실험을 통해 저항, 전류, 전압 사이의 관계를 이끌어낼 수 있다。", "[9과14-03] 저항의 직렬연결과 병렬연결의 특징을 비교하고, 일상생활에서 전기 에너지가 다양한 형태의 에너지로 전환됨을 소비 전력과 관련지어 설명할 수 있다。", "[9과14-04] 자기장 안에 놓인 전류가 흐르는 코일이 받는 힘의 특성을 추리하고, 전동기 등 일상생활에서 활용한 예를 찾을 수 있다。"],
            activities: ["저항, 전류, 전압 사이의 관계 탐구하기", "전류가 흐르는 코일 주위의 자기장 관찰하기"],
            explanation: `• [9과14-02] 일상생활에 활용되는 다양한 물질의 저항이 다름을 도체와 부도체의 예를 들어 설명하고, 반도체를 소개한다.
• [9과14-03] 저항의 연결에 따른 합성 저항의 정량적인 계산과 혼합 연결은 다루지 않는다. 소비 전력은 정량적인 계산보다는 에너지 전환 관점에서 다루도록 하고, 효율적인 전기 사용의 중요성을 인식하도록 한다.
• [9과14-04] 코일을 이용하여 전류의 세기와 방향에 따른 자기장의 세기와 방향을 정성적으로 확인하고, 전류가 흐르는 코일과 자석의 상호작용 관점에서 전동기의 원리를 이해하도록 한다.`,
            consideration: `• 초등학교 3~4학년군 '자석의 이용', 5~6학년군 '전기의 이용', 고등학교 '통합과학1'의 물질과 규칙성, '통합과학2'의 환경과 에너지, '물리학'의 전기와 자기와 연계된다.
• 전기 회로 실험에서 디지털 탐구 도구나 가상 실험을 활용할 수 있다.
• 가정에서 전기 에너지가 전환되어 나타나는 다양한 형태의 에너지와 소비 전력에 대해 조사하여 보고서를 작성하게 하고, 이를 평가할 수.
• 환경이나 기후변화의 관점에서 효율이 높은 전기 기구를 사용하는 것의 중요성을 이해하고 에너지의 효율적 사용을 실천하도록 지도한다.`,
            pdfPages: { achievement: 40, domain: 76 }
        },
        "별과 우주": {
            group: "중학교", domain: "별과 우주",
            achievements: ["[9과15-01] 연주시차를 이용하여 별까지의 거리를 구할 수 있고, 별의 등급과 밝기의 관계 및 표면 온도와 색의 관계를 설명할 수 있다。", "[9과15-02] 우리은하의 구조와 크기를 이해하고, 성운과 성단의 특징을 비교할 수 있다。", "[9과15-03] 모형을 이용하여 우주가 팽창하고 있음을 설명할 수 있다。", "[9과15-04] 우주탐사의 의의와 인류에게 미치는 영향을 조사하여 과학의 유용성을 인식할 수 있다。"],
            activities: ["디지털 탐구 도구를 활용하여 광원으로부터의 거리에 따른 빛의 세기 실험하기", "천체 관측 프로그램을 활용하여 우리은하를 구성하는 천체 관측하기", "우주탐사 계획 세우기"],
            explanation: `• [9과15-01] 별까지의 거리를 구하는 방법은 수식을 도입하지 않으며, 연주시차와 겉보기 등급과 절대등급의 개념을 중심으로 다룬다. 별의 표면 온도는 별의 색을 이용하여 비교하는 수준으로만 다룬다.
• [9과15-03] 우주 팽창과 관련된 심화 내용(적색 편이, 허블 법칙, 가속 팽창 등)은 다루지 않는다.`,
            consideration: `• 초등학교 3~4학년군 '밤하늘 관찰', 고등학교 '통합과학 2'의 환경과 에너지, '지구과학'의 태양계 천체와 별과 우주의 진화, '행성우주과학'의 우주탐사와 행성계와 연계된다.
• 디지털 탐구 도구를 활용하여 우리은하를 구성하는 천체의 종류와 특징을 비교·분석하는 수업을 전개할 수 있다.
• 우주 팽창은 스티커를 붙인 풍선 모형을 이용하여 설명할 수 있다.
• 우주탐사 성과를 바탕으로 우주탐사 계획을 세우고, 토의 및 토론, 보고서 작성, 만화 그리기, 연극 활동 등 다양한 교수·학습 방법을 적용할 수 있다.`,
            pdfPages: { achievement: 42, domain: 78 }
        },
    },
    "3학년": {
        "화학 반응의 규칙성": {
            group: "중학교", domain: "화학 반응의 규칙성",
            achievements: ["[9과16-01] 물리 변화와 화학 변화의 의미를 알고, 화학 변화에서 새로운 물질이 생성됨을 관찰할 수 있다。", "[9과16-02] 간단한 화학 반응을 화학 반응식으로 표현하고, 화학 반응식에서 계수의 비를 입자 수의 비로 해석할 수 있다。", "[9과16-03] 화학 반응에서 질량이 보존됨을 실험을 통해 추론할 수 있다。", "[9과16-04] 화합물을 구성하는 성분 원소의 질량비가 일정함을 실험 자료를 해석하여 설명할 수 있다。", "[9과16-05] 기체 반응에서 기체 부피 사이의 비가 일정함을 실험 자료를 해석하여 설명할 수 있다。", "[9과16-06] 화학 반응에서 열에너지가 출입함을 알고, 생활 속 사례를 조사하여 발표할 수 있다。"],
            activities: ["화학 반응 전후의 질량 변화 관찰하기", "화학 반응을 이용한 간단한 냉각 장치 만들기"],
            explanation: `• [9과16-03] 화학 반응이 일어날 때 물질을 구성하는 원자의 배열만 변하고, 원자의 종류와 수는 변하지 않음을 강조하여 설명한다.`,
            consideration: `• 초등학교 3~4학년군 '물체와 물질', 5~6학년군 '물질의 연소', 고등학교 '통합과학2'의 변화와 다양성과 연계된다.
• 질량 보존 법칙을 확인하는 실험에서 기체의 질량을 측정할 때는 부력이 영향을 미칠 수 있음을 유의한다.
• 일정 성분비 법칙은 화합물을 구성하는 원소를 화학식으로 일정하게 표현할 수 있는 근거가 된다는 사실을 학생들이 이해하도록 지도한다.
• 탐구 활동 수행 시, 의사소통과 협업 능력을 키우기 위해 여러 모둠의 데이터를 공유할 수 있으며, 데이터 공유 시 공유 플랫폼 등을 활용하여 디지털 소양 교육과 연계하여 지도한다.
• 질량 보존 법칙, 일정 성분비 법칙, 기체 반응 법칙은 개념의 추상성이 높으므로, 시각적 접근이 가능하도록 모형, 소프트웨어, 앱 등을 활용하여 디지털 소양을 함양하도록 지도한다.`,
            pdfPages: { achievement: 43, domain: 80 }
        },
        "날씨와 기후변화": {
            group: "중학교", domain: "날씨와 기후변화",
            achievements: ["[9과17-01] 지구 대기권을 4개 권역으로 구분하며, 온실효과와 지구온난화를 복사 평형의 관점으로 설명할 수 있다。", "[9과17-02] 대기 대순환에서 위도별 바람의 특성을 파악하고, 대기 대순환의 역할을 설명할 수 있다。", "[9과17-03] 상대습도, 단열 팽창 및 응결 현상의 관계를 이해하고, 구름의 생성과 강수 과정을 설명할 수 있다。", "[9과17-04] 기압, 기단, 전선의 개념을 이해하고, 일기도에서 저기압과 고기압의 분포에 따른 날씨를 해석할 수 있다。"],
            activities: ["기후변화 관련 자료 검색 및 분석하기", "디지털 탐구 도구를 이용하여 구름 생성 과정 실험하기", "일기도, 레이더 및 위성 영상 등 실시간 데이터를 활용하여 날씨 해석하기"],
            explanation: `• [9과17-02] 위도별로 지상에서 부는 바람은 북반구를 기준으로 설명하고, 대기 대순환 설명 시 전향력이나 지구가 자전하지 않을 경우는 다루지 않는다.
• [9과17-03] 대기 중의 수증기량과 이슬점, 포화 수증기압, 상대습도 등의 관계를 파악하고, 구름의 생성은 모형실험으로 다룬다. 강수 과정은 빙정설과 병합설에 대해 정성적으로 간단하게 설명한다.
• [9과17-04] 기압의 개념과 크기 및 지표면의 차등 가열에 따른 온도 차이로 인해 기압의 변화가 생겨서 바람이 분다는 것을 다룬다. 등압선 그리기, 일기 예보의 과정, 일기도 작성은 다루지 않는다.`,
            consideration: `• 초등학교 5~6학년군 '날씨와 우리 생활', 고등학교 '통합과학 2'의 환경과 에너지, '지구과학'의 대기와 해양의 상호작용, '지구시스템과학'의 강수 과정과 대기의 운동, '기후변화와 환경생태'의 기후위기와 환경생태 변화, 기후위기에 대응하는 우리의 노력과 연계된다.
• 대기권의 높이에 따른 온도 분포 그래프를 그려보는 활동을 통해 대기권이 4개의 권역으로 이루어져 있음을 이해하도록 지도한다.
• 복사 평형, 단열 팽창, 바람의 생성, 전선의 형성은 모형이나 실험을 통해 이해할 수 있도록 한다.
• 온실 기체 농도 측정이 시작된 이래로 온실 기체량과 기후변화에 관한 자료를 검색하여 변화 경향성과 관련성을 분석한다.
• 기후변화와 환경 재난 등에 대한 심각성을 인식하고, 환경과 인간이 공존할 수 있는 다양한 방법을 모색하도록 지도한다.`,
            pdfPages: { achievement: 45, domain: 82 }
        },
        "수권과 해수의 순환": {
            group: "중학교", domain: "수권과 해수의 순환",
            achievements: ["[9과18-01] 수권에서 해수, 담수, 빙하의 분포와 활용 사례를 조사하고, 자원으로서 물의 가치에 대해 토론할 수 있다。", "[9과18-02] 해수의 수온과 염분의 분포 및 변화를 해석하여 해수의 특성을 설명할 수 있다。", "[9과18-03] 대기 대순환과 해양 표층 순환과의 관계를 이해하고, 기후변화에 영향을 미치는 해류의 역할을 설명할 수 있다。"],
            activities: ["디지털 탐구 도구를 이용하여 해수의 연직 수온 분포 실험하기", "실시간 데이터를 활용하여 우리나라 주변 해양 정보(수온, 염분) 분석하기"],
            explanation: `• [9과18-01] 자원으로서의 물의 가치에서는 지하수의 가치와 활용 방안, 지속가능한 수자원 활용 방안 조사·실천 등을 포함하여 다룬다.
• [9과18-02] 위도에 따른 해수의 연직 수온 분포 차이보다는 우리나라 주변 해역의 계절별 연직 수온 분포를 위주로 다룬다.
• [9과18-03] 해류가 전 지구적인 에너지 재분배를 통하여 기후변화에 미치는 영향을 이해하게 하고, 북태평양의 아열대 순환을 구성하는 해류만을 다룬다.`,
            consideration: `• 초등학교 3~4학년군 '지구와 바다', 고등학교 '통합과학2'의 환경과 에너지, '지구과학'의 대기와 해양의 상호작용, '지구시스템과학'의 해수의 운동, '기후변화와 환경생태'의 기후위기와 환경생태 변화, 기후위기에 대응하는 우리의 노력과 연계된다.
• 자원으로서 물의 가치, 물 부족 실태에 대해 조사하고 토론하는 과정에서 수자원의 중요성을 인식하고, 물 절약 방안 등과 같은 지속가능한 삶을 위한 실천 방안을 찾아 행동하도록 지도한다.
• 모둠별로 다양한 조건을 설정하여 해수의 연직 수온 분포 실험을 수행한 후 결과를 다른 모둠과 비교하여 분석할 수 있다.`,
            pdfPages: { achievement: 47, domain: 84 }
        },
        "운동과 에너지": {
            group: "중학교", domain: "운동과 에너지",
            achievements: ["[9과19-01] 직선상에서 움직이는 물체의 운동을 그래프로 나타내고 해석할 수 있다。", "[9과19-02] 자유 낙하하는 물체의 운동에서 시간에 따른 속력의 변화가 일정함을 분석할 수 있다。", "[9과19-03] 일의 정의를 알고, 자유 낙하하는 물체의 운동에서 중력이 한 일을 위치 에너지와 운동 에너지로 표현할 수 있다。", "[9과19-04] 물체의 운동에서 역학적 에너지의 전환과 보존을 이해하고, 이를 활용하여 일상생활 속 물체의 운동을 예측할 수 있다。"],
            activities: ["여러 가지 물체의 자유 낙하 운동 분석하기", "자유 낙하하는 물체의 역학적 에너지 보존 실험하기"],
            explanation: `• [9과19-01] 물체의 직선 운동에서 등속 운동과 속력이 일정하게 증가하거나 감소하는 운동을 다루며, 속력이 변하는 경우에는 시간 속력 그래프를 그려서 운동을 분석한다.
• [9과19-02] 자유 낙하하는 물체의 운동에서 물체의 종류나 질량과 상관없이 단위 시간당 속력 변화량이 9.8m/s로 일정함을 자료를 분석하여 이끌어내도록 한다.
• [9과19-03] 중력이 한 일은 운동 에너지, 중력에 대해서 한 일은 위치 에너지로 전환됨을 확인한다.
• [9과19-04] 단진자나 자유 낙하하는 물체 등의 사례에서 역학적 에너지 보존 법칙을 이용해 물체의 운동 상태를 예측할 수 있음을 설명한다.`,
            consideration: `• 초등학교 5~6학년군 '물체의 운동', 고등학교 '통합과학1'의 시스템과 상호작용, '물리학'의 힘과 에너지와 연계된다.
• 공기 등에 의한 마찰을 무시할 수 있는 물체의 운동을 기록한 실험이나 동영상 자료를 활용할 수 있다.
• 운동에 대한 기록과 자료의 해석·분석에 사진기나 운동 센서 등 다양한 디지털 탐구 도구를 활용할 수 있도록 한다.`,
            pdfPages: { achievement: 48, domain: 86 }
        },
        "자극과 반응": {
            group: "중학교", domain: "자극과 반응",
            achievements: ["[9과20-01] 감각기관의 구조와 기능을 이해하고, 실험을 통해 자극이 뇌로 전달되는 과정을 추론할 수 있다。", "[9과20-02] 뉴런과 신경계의 구조와 기능을 이해하고, 자극에서 반응이 일어나기까지의 과정을 모형으로 설명할 수 있다。", "[9과20-03] 우리 몸의 기능 조절에 호르몬이 관여함을 알고, 관련 자료를 조사하여 발표할 수 있다。"],
            activities: ["맹점 확인 실험하기", "무조건 반사와 의식적 반응 실험하기"],
            explanation: `• [9과20-01] 감각 기관의 구조는 간단히 언급하고, 자극이 감각 기관에서 뇌로 전달되는 과정을 중점적으로 설명한다.
• [9과20-03] 호르몬의 종류는 성장호르몬, 인슐린, 글루카곤, 티록신 정도만 언급하고, 신경계와 호르몬의 작용으로 몸을 최적의 상태로 유지함을 강조하여 설명한다.`,
            consideration: `• 초등학교 5~6학년군 '우리 몸의 구조와 기능', 고등학교 '생명과학'의 항상성과 몸의 조절과 연계된다.
• 시각 관련 실험은 현상을 관찰하고, 관찰한 사실을 바탕으로 눈의 구조를 추론하는 사고력과 설명 능력을 향상할 수 있도록 지도한다.
• 실험을 통해 무조건 반사와 의식적 반응의 속도 차이를 측정하고, 데이터를 분석하는 활동을 통해 과학적 탐구 역량을 함양할 수 있도록 지도한다.
• 호르몬과 관련된 질병의 성별, 연령별 발병 비율을 누리망 자료 등을 활용하여 조사하고 분석하는 활동을 할 수.`,
            pdfPages: { achievement: 50, domain: 87 }
        },
        "생식과 유전": {
            group: "중학교", domain: "생식과 유전",
            achievements: ["[9과21-01] 개체의 생장에 세포분열이 필요한 이유를 세포의 표면적과 부피의 관계로 추론할 수 있다。", "[9과21-02] 염색체와 유전자의 관계를 이해하고, 체세포분열과 생식세포 형성과정의 특징을 염색체 행동을 중심으로 해석할 수 있다。", "[9과21-03] 수정란으로부터 개체가 발생하는 과정을 모형으로 표현할 수 있다。", "[9과21-04] 멘델 유전 실험의 의의와 원리를 이해하고, 멘델 유전 원리가 적용되는 유전 현상을 조사하여 협력적으로 소통할 수 있다。", "[9과21-05] 사람의 유전 형질과 유전 연구 방법을 알고, 가계도를 분석하여 사람의 유전 현상을 설명할 수 있다。"],
            activities: ["세포분열 관찰하기", "유전 현상 모의 활동하기"],
            explanation: `• [9과21-02] 체세포분열과 생식 세포 형성 과정은 염색체의 행동을 중심으로 간단하게 다루며, 분열 과정의 단순한 암기보다 분열의 생물학적 의미를 이해하는 데 중점을 둔다.
• [9과21-03] 발생 과정은 수정란의 초기 발생에서 난할만을 간단하게 다룬다.`,
            consideration: `• 초등학교 3~4학년군 '동물의 생활', '생물의 한살이', 고등학교 '생명과학'의 생명의 연속성과 다양성과 연계된다.
• 체세포분열과 생식 세포 형성 과정 학습에서 증강 현실, 가상 현실 등 실감형 자료를 활용하여 세포분열 과정에 대한 이해를 높일 수 있도록 지도한다.
• 사람의 유전 형질 중 단일 유전자에 의해 나타난 형질이 아닌 표현형이 있음에 유의하며 과학적으로 입증된 내용만 다룬다.
• 가계도 분석 활동에서 학생과 학생 가족의 질병, 가족 관계 등 개인 정보 유출의 문제가 발생하지 않도록 한다.`,
            pdfPages: { achievement: 51, domain: 88 }
        },
        "재해⋅재난과 안전": {
            group: "중학교", domain: "재해재난과 안전",
            achievements: ["[9과22-01] 재해재난 사례와 관련된 자료를 조사하고, 그 발생 원인과 피해에 대해 과학적으로 분석할 수 있다。", "[9과22-02] 과학적 원리를 이용하여 재해재난에 대한 대비 및 대처 방안을 세울 수 있다。"],
            activities: ["빅데이터를 이용하여 재해재난 사례 분석하기", "재해재난의 피해를 줄이기 위한 홍보자료 제작하기"],
            explanation: `• [9과22-01] 재해재난에 대한 사례 조사는 감염병 질병 확산, 화학물질 유출, 운송 수단 사고, 지진, 화산, 기상재해 등에서 선택하여 다룬다.
• [9과22-02] 재해재난의 피해를 줄이기 위한 방안을 논의할 때는 사후 대처뿐만 아니라 사전 예방 및 대비를 다룬다.`,
            consideration: `• 초등학교 3~4학년군 '기후변화와 우리 생활', 5~6학년군 '자원과 에너지'와 연계된다.
• 재해재난에 대한 사례 조사는 누리망 검색이나 서적 등을 활용할 수 있으며, 재해·재난의 종류에 따라 보고서를 작성하여 발표할 수 있다. 이때 편향된 관점을 갖지 않도록 다양한 자료를 조사하여 비교하도록 한다.
• 교수·학습 방법으로 주로 조사와 토의·토론, 발표를 활용하고, 참여하려는 태도와 의사소통 및 협동성을 평가할 수 있다.`,
            pdfPages: { achievement: 53, domain: 90 }
        },
        "과학과 나의 미래": {
            group: "중학교", domain: "과학과 나의 미래",
            achievements: ["[9과23-01] 과학과 관련된 직업의 종류와 하는 일을 조사하고, 과학기술의 발달로 생기는 미래 사회의 직업 변화를 예상할 수 있다。", "[9과23-02] 자신의 진로와 관련 있는 과학 분야를 조사하고, 진로 선택을 위하여 필요한 과학 학습을 계획할 수 있다。"],
            activities: ["다양한 직업 속 과학 탐색하기", "미래 사회에서 과학의 역할과 새로운 과학 직업 토의하기"],
            explanation: `• [9과23-02] 과학과 직접적으로 관련된 직업에서 과학의 역할 뿐만 아니라 기술, 공학, 예술, 문학 분야 등의 직업에서 필요한 과학 학문을 조사하여, 과학의 중요성과 유용성을 깨닫고 과학 학습 계획을 세우도록 한다.`,
            consideration: `• 초등학교 5~6학년군 '과학과 나의 진로'와 연계된다.
 • 과학 관련 직업군별 탐방 활동 보고서나 자료 조사 보고서를 바탕으로 직업군의 특성에 대해 발표하고 토론한다.
 • 학생이 원하는 진로를 먼저 정하고, 비슷한 진로를 계획하는 학생들이 모둠을 만들어 함께 조사하고 발표한다.`,
            pdfPages: { achievement: 54, domain: 92 }
        }
    }
};


const curriculumTree = document.getElementById('curriculum-tree');
const unitTitleContainer = document.getElementById('unit-title');
const unitActionsContainer = document.getElementById('unit-actions');
const achieveContent = document.getElementById('achieve-content');
const placeholderMessage = document.getElementById('placeholder-message');
const loadingSpinner = document.getElementById('loading-spinner');
const achievementList = document.getElementById('achievement-list');
const activitySection = document.getElementById('activity-section'); 
const activityList = document.getElementById('activity-list');
const explanationText = document.getElementById('explanation-text');
const considerationText = document.getElementById('consideration-text');

let activeElement = null;
let currentDomainName = null; 

function openModal(title, pdfLink, pageNumber) {
    const modal = document.getElementById('pdf-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalBody = document.getElementById('modal-body');
    
    modalTitle.textContent = title;
    const finalLink = `${pdfLink}#page=${pageNumber}`;

    modalBody.innerHTML = `
        <p class="text-slate-700 mb-4">PDF 파일의 ${pageNumber}페이지로 바로 이동을 시도합니다.<br>브라우저 설정에 따라 새 탭에서 열릴 수 있습니다.</p>
        <a href="${finalLink}" target="_blank" class="px-6 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-colors inline-block shadow-lg">
            ${pdfLink.includes('성취수준_중학교.pdf') ? '성취수준 PDF 열기' : 'PDF 파일 열기'}
        </a>
    `;
    modal.classList.remove('hidden');
}

function closeModal() {
    document.getElementById('pdf-modal').classList.add('hidden');
}

function toggleGroup(headerElement, contentElement) {
    if (!contentElement) return;
    const iconContainer = headerElement.querySelector('.toggle-icon');
    const isOpen = contentElement.classList.contains('open');

    // Toggle logic for opening/closing
    if (isOpen) {
        contentElement.classList.remove('open');
        if(iconContainer) iconContainer.classList.remove('open-icon');
    } else {
        // Close siblings at the same level (optional, but keeps menu clean)
        const siblings = contentElement.parentNode.querySelectorAll('.sub-group-container.open');
        siblings.forEach(sibling => {
            if (sibling !== contentElement) {
                sibling.classList.remove('open');
                const siblingHeader = sibling.previousElementSibling.querySelector('.toggle-icon');
                if(siblingHeader) siblingHeader.classList.remove('open-icon');
            }
        });
        
        contentElement.classList.add('open');
        if(iconContainer) iconContainer.classList.add('open-icon');
    }
    headerElement.classList.toggle('active-group', !isOpen);
}

function renderCurriculumTree() {
    curriculumTree.innerHTML = '';
    const topLevelGroups = { "중학교": ["1학년", "2학년", "3학년"] };

    for (const [topGroup, subGroupNames] of Object.entries(topLevelGroups)) {
        const topContainer = document.createElement('div');
        topContainer.className = 'mb-3';
        
        const topHeader = document.createElement('div');
        topHeader.className = 'tree-group-item flex items-center text-base font-extrabold text-slate-800';
        topHeader.innerHTML = `<span class="toggle-icon">></span>${topGroup}`;
        
        const subGroupContainer = document.createElement('div');
        subGroupContainer.className = `sub-group-container space-y-1`;
        subGroupContainer.dataset.group = topGroup;
        
        // Always open the top level group
        topHeader.querySelector('.toggle-icon').classList.add('open-icon');
        subGroupContainer.classList.add('open');
        
        topHeader.onclick = () => toggleGroup(topHeader, subGroupContainer);
        topContainer.appendChild(topHeader);

        subGroupNames.forEach((subGroupName, index) => {
            const subGroupData = curriculumUnits[subGroupName] || {}; 
            const headerClasses = 'tree-group-item flex items-center text-sm pl-2 mt-1 font-bold text-slate-700 hover:text-blue-600 transition-colors';
            const iconClasses = 'toggle-icon text-slate-400';

            const subGroupHeader = document.createElement('div');
            subGroupHeader.className = headerClasses;
            subGroupHeader.innerHTML = `<span class="${iconClasses}">›</span>${subGroupName}`;
            
            const unitContainer = document.createElement('div');
            unitContainer.className = 'sub-group-container space-y-0.5';

            subGroupHeader.onclick = (e) => {
                e.stopPropagation();
                toggleGroup(subGroupHeader, unitContainer);
            };

            const unitNames = Object.keys(subGroupData);
            unitNames.forEach((unitName, unitIndex) => {
                const unitData = subGroupData[unitName] || { achievements: [], activities: [], explanation: '데이터 없음', consideration: '데이터 없음' };
                const unitItem = document.createElement('div');
                unitItem.className = 'sub-group-item';
                unitItem.textContent = `${unitIndex + 1}. ${unitName}`;
                unitItem.dataset.name = unitName;
                unitItem.dataset.group = subGroupName; 
                unitItem.dataset.topgroup = topGroup;

                unitItem.onclick = (e) => {
                    e.stopPropagation();
                    setActiveElement(unitItem);
                    displayUnitContent(unitData, unitName, subGroupName);
                };
                unitContainer.appendChild(unitItem);
            });

            subGroupContainer.appendChild(subGroupHeader);
            subGroupContainer.appendChild(unitContainer);

            // Always open the year group container
            subGroupHeader.querySelector('.toggle-icon').classList.add('open-icon');
            unitContainer.classList.add('open');

        });

        topContainer.appendChild(subGroupContainer);
        curriculumTree.appendChild(topContainer);
    }
    
    // Helper function to construct a single reference row (View Link + Download Button/Spacer)
    function createRefRow(text, viewHref, downloadFileName, icon, pageNumber = null) {
        const wrapper = document.createElement('div');
        wrapper.className = 'reference-link-wrapper';
        
        // 1. View Link (contentContainer/link)
        const contentContainer = document.createElement('div');
        // Apply text-slate-700 for dark text and font-bold
        const isEdunet = text.includes('에듀넷');
        
        contentContainer.className = `reference-link-item flex-1 ${isEdunet ? 'edunet-link' : 'text-slate-700'} hover:text-blue-600`; 
        contentContainer.style.cursor = 'pointer'; 
        
        // Edunet link specific inner HTML structure
        if (isEdunet) {
            contentContainer.innerHTML = `<span style="font-weight: 700;">${text}</span><span class="ml-2 text-slate-500">🔗</span>`;
        } else {
            contentContainer.innerHTML = `<span class="mr-2 text-slate-500">${icon}</span><span style="font-weight: 700;">${text}</span>`;
        }
        
        
        if (pageNumber) {
            contentContainer.onclick = () => openModal(text, viewHref, pageNumber);
        } else {
            contentContainer.onclick = () => window.open(viewHref, '_blank');
        }
        
        wrapper.appendChild(contentContainer);

        // 2. Download Button or Spacer
        if (downloadFileName) { 
            const downloadButton = document.createElement('a');
            downloadButton.href = viewHref;
            downloadButton.download = downloadFileName; 
            downloadButton.className = 'download-button';
            downloadButton.textContent = '다운로드'; 
            wrapper.appendChild(downloadButton);
        } else {
             // Placeholder/Spacer for visual alignment when download button is missing (for Eval items)
             const spacer = document.createElement('span');
             spacer.style.width = '70px'; 
             wrapper.appendChild(spacer);
        }

        return wrapper;
    }


    // Reference Links (참고 자료)
    const refTopContainer = document.createElement('div');
    refTopContainer.className = 'mb-3 reference-group-item-container'; 
    const refTopHeader = document.createElement('div');
    refTopHeader.className = 'tree-group-item flex items-center text-base font-extrabold text-slate-800'; 
    refTopHeader.innerHTML = `<span class="toggle-icon">></span>참고 자료`;
    const refSubGroupContainer = document.createElement('div');
    refSubGroupContainer.className = `sub-group-container open space-y-1`;
    
    // Create rows for the reference section

  // 1. 지필평가 (No download button, bold text)
refSubGroupContainer.appendChild(createRefRow('<지필평가> 예시 평가 도구', '성취수준_지필.pdf', null, '📝')); 

// 2. 수행평가 (No download button, bold text)
refSubGroupContainer.appendChild(createRefRow('<수행평가> 예시 평가 도구', '성취수준_수행.pdf', null, '📝'));
    
    // 3. 성취기준 원문보기 (With download button, bold text)
    refSubGroupContainer.appendChild(createRefRow('<성취기준> 원문보기', '과학과교육과정.pdf', '과학과교육과정.pdf', '📄'));
    // 4. 성취수준 원문보기 (With download button, bold text)
    refSubGroupContainer.appendChild(createRefRow('<성취수준> 원문보기', '성취수준_중학교.pdf', '성취수준_중학교.pdf', '📄'));

    // 5. Edunet Link (Blue font, no download button)
    refSubGroupContainer.appendChild(createRefRow('에듀넷 국가 교육과정 링크', 'https://www.edunet.net/clssFlCtgr/list/5', null, '🔗'));

    refTopHeader.querySelector('.toggle-icon').classList.add('open-icon');
    refSubGroupContainer.classList.add('open');
    refSubGroupContainer.style.maxHeight = '2000px'; 

    refTopHeader.onclick = () => toggleGroup(refTopHeader, refSubGroupContainer);
    
    refTopContainer.appendChild(refTopHeader);
    refTopContainer.appendChild(refSubGroupContainer);
    curriculumTree.appendChild(refTopContainer);
}

function setActiveElement(newActiveElement) {
    if (activeElement) {
        activeElement.classList.remove('active-item');
    }
    newActiveElement.classList.add('active-item');
    activeElement = newActiveElement;
}

function formatPdfText(text) {
    if (!text) return '';
    
    // 1. Handle empty strings or single spaces in data
    const cleanedText = text.trim();
    if (cleanedText.length === 0) return '';
    
    const lines = text.split('\n').map(line => line.trim()).filter(line => line.length > 0);
    let formattedHtml = '';
    
    lines.forEach(line => {
        if (line.length === 0) return;

        // Match: 1. Optional bullet (• ), 2. Optional [CODE], 3. Content
        const match = line.match(/^(•\s*)?(\[.*?\]\s*)?(.*)$/);
        
        if (match) {
            const code = match[2] ? match[2].trim() : ''; 
            const content = (match[3] || '').trim(); 
            const isBulletLine = match[1] || code;

            if (isBulletLine) {
                // Creates the structure for: [Blue Bullet] [Code] [Content]
                const codePrefix = code ? `<span class="code">${code}</span>` : '';
                
                formattedHtml += `
                    <div class="explanation-item">
                        <span class="bullet">•</span>
                        ${codePrefix}
                        <span style="flex-grow: 1;">${content}</span>
                    </div>`;
            } else {
                // For regular text lines (like continuation paragraphs) - using same container for flow
                 formattedHtml += `<div class="explanation-item"><span style="flex-grow: 1;">${line}</span></div>`; 
            }
        }
    });

    return formattedHtml;
}


function displayUnitContent(data, unitName, subGroupName) {
    placeholderMessage.classList.add('hidden');
    achieveContent.classList.add('hidden');
    loadingSpinner.classList.remove('hidden');
    currentDomainName = data.domain;

    setTimeout(() => {
        loadingSpinner.classList.add('hidden');
        achieveContent.classList.remove('hidden');
        unitTitleContainer.textContent = `${unitName}`;
        unitActionsContainer.innerHTML = ''; 

        if (data.pdfPages) {
            const achievementButton = document.createElement('button');
            achievementButton.textContent = '수준별 성취수준';
            achievementButton.className = 'unit-actions-button';
            achievementButton.onclick = () => showAchievementLevel(unitName, data.pdfPages.achievement);
            unitActionsContainer.appendChild(achievementButton);

            const domainButton = document.createElement('button');
            domainButton.textContent = '영역별 성취수준';
            domainButton.className = 'unit-actions-button';
            domainButton.onclick = () => showDomainLevel(currentDomainName, data.pdfPages.domain);
            unitActionsContainer.appendChild(domainButton);
        } else {
            unitActionsContainer.innerHTML = `<span class="text-xs text-slate-500 font-normal">성취수준 정보 없음</span>`;
        }

        // --- Content Generation ---
        
        // 1. Achievement List (content-list-item for blue bullet)
        if (data.achievements && data.achievements.length > 0) {
            achievementList.innerHTML = data.achievements.map(item => `
                <li class="content-list-item">
                    <span class="flex-1">${item}</span>
                </li>
            `).join('');
        } else {
             achievementList.innerHTML = `<li class="content-list-item" style="color: #64748b;">선택하신 단원에 대한 성취기준 데이터가 없습니다.</li>`;
        }
        
        // 2. Activity List (activity-list-item-black-bullet for black dot bullet)
        if (data.activities && data.activities.length > 0) {
            activitySection.classList.remove('hidden');
            activityList.innerHTML = data.activities.map(item => `
                <li class="activity-list-item-black-bullet">
                    <span>${item}</span>
                </li>
            `).join('');
        } else {
            activitySection.classList.add('hidden');
            activityList.innerHTML = '';
        }

        // 3. Explanation and Consideration Texts (formatPdfText for blue bullet/code prefix)
        explanationText.innerHTML = formatPdfText(data.explanation);
        considerationText.innerHTML = formatPdfText(data.consideration);
        
        // Scroll to top of detail view
        document.getElementById('unit-content').scrollTo(0, 0);

    }, 300); 
}

function showAchievementLevel(unitName, page) {
    const pdfFile = '성취수준_중학교.pdf';
    openModal(`${unitName} : 수준별 성취수준`, pdfFile, page);
}

function showDomainLevel(domainName, page) {
    const pdfFile = '성취수준_중학교.pdf';
    openModal(`${domainName} : 영역별 성취수준`, pdfFile, page);
}

window.onload = renderCurriculumTree;
</script>
</body>
</html>